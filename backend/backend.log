
> arreglos-victoria-backend@1.0.0 start
> node server.js

ðŸš€ Servidor backend corriendo en http://localhost:5000
ðŸš€ Servidor backend corriendo en http://localhost:5000
Conectado a la base de datos de productos
Conectado a la base de datos de usuarios
Tabla de usuarios verificada o creada
Servidor de correo configurado correctamente
[2025-08-23T00:41:41.732Z] GET /api/orders - IP: ::1
[2025-08-23T00:42:07.208Z] GET /api/orders - IP: ::1
[2025-08-23T00:43:25.452Z] POST /api/orders/create - IP: ::1
Nuevo pedido creado: {
  id: 3,
  userId: 4,
  customerName: 'Mauricio Garay',
  customerEmail: 'laloaggro@gmail.com',
  items: [
    {
      productId: 1,
      productName: 'Producto de prueba',
      quantity: 2,
      price: 10000
    }
  ],
  total: 20000,
  status: 'Pendiente',
  date: '2025-08-23T00:43:25.454Z',
  shippingAddress: 'DirecciÃ³n de prueba',
  paymentMethod: 'Tarjeta de crÃ©dito'
}
[2025-08-23T00:43:30.309Z] GET /api/orders - IP: ::1
[2025-08-23T00:43:55.451Z] GET /api/orders - IP: ::1
[2025-08-23T00:44:27.618Z] GET /api/orders - IP: ::1
[2025-08-23T00:44:33.055Z] GET /api/orders/user/4 - IP: ::1
[2025-08-23T00:44:38.748Z] PUT /api/orders/3/status - IP: ::1
[2025-08-23T00:44:43.900Z] GET /api/orders/3 - IP: ::1
[2025-08-23T00:45:09.431Z] GET /api/orders/3 - IP: ::1
[2025-08-23T00:45:35.502Z] GET /api/orders/3 - IP: ::1
[2025-08-23T00:46:11.597Z] GET /api/orders/3 - IP: ::1
[2025-08-23T00:48:14.329Z] GET /api/products - IP: ::1
[2025-08-23T00:48:16.670Z] GET /api/products - IP: ::1
[2025-08-23T00:48:33.071Z] GET /api/products - IP: ::1
[2025-08-23T00:54:56.945Z] GET /api/orders/user/4 - IP: ::1
[2025-08-23T01:14:46.008Z] GET /api/cart/count - IP: ::1
[2025-08-23T01:14:47.706Z] GET /api/cart/count - IP: ::1
[2025-08-23T01:14:55.868Z] GET /api/products - IP: ::1
[2025-08-23T01:19:11.648Z] GET /api/cart/count - IP: ::1
[2025-08-23T01:19:12.913Z] GET /api/cart/count - IP: ::1
[2025-08-23T01:19:13.710Z] GET /api/products - IP: ::1
[2025-08-23T01:19:21.947Z] GET /api/cart/count - IP: ::1
[2025-08-23T01:19:22.958Z] GET /api/cart/count - IP: ::1
[2025-08-23T01:21:08.128Z] POST /api/users/google-login - IP: ::1
Datos recibidos para Google login: {
  googleId: '111799463182523065523',
  email: 'laloaggro@gmail.com',
  name: 'Mauricio Garay Veas (laloaggro)',
  imageUrl: 'https://lh3.googleusercontent.com/a/ACg8ocJwJOhqewwE_lGzulo2sf-mA92m7n-PJx-iCZinv_aug2ieWvXkOA=s96-c'
}
Usuario encontrado: {
  id: 4,
  name: 'Mauricio Garay Veas (laloaggro)',
  email: 'laloaggro@gmail.com',
  phone: null,
  role: 'user'
}
Actualizando usuario existente sin google_id...
google_id actualizado correctamente
Login registrado con ID: 3
Generando token JWT...
Token generado exitosamente
[2025-08-23T02:09:58.892Z] GET /api/products - IP: ::1
[2025-08-23T02:15:24.588Z] GET / - IP: ::1
[2025-08-23T02:15:24.670Z] GET /assets/css/preflight.css - IP: ::1
[2025-08-23T02:15:24.671Z] GET /assets/css/theme.css - IP: ::1
[2025-08-23T02:15:24.672Z] GET /assets/css/index.css - IP: ::1
[2025-08-23T02:15:24.673Z] GET /assets/css/styles.css - IP: ::1
[2025-08-23T02:15:24.674Z] GET /assets/js/utils.js - IP: ::1
[2025-08-23T02:15:24.675Z] GET /assets/js/auth.js - IP: ::1
[2025-08-23T02:15:24.695Z] GET /assets/js/cartUtils.js - IP: ::1
[2025-08-23T02:15:24.696Z] GET /assets/js/productManager.js - IP: ::1
[2025-08-23T02:15:24.699Z] GET /assets/js/homeProducts.js - IP: ::1
[2025-08-23T02:15:24.699Z] GET /assets/js/cart.js - IP: ::1
[2025-08-23T02:15:24.701Z] GET /assets/js/home.js - IP: ::1
[2025-08-23T02:15:24.702Z] GET /assets/js/accessibility.js - IP: ::1
[2025-08-23T02:15:24.723Z] GET /assets/js/lazyLoad.js - IP: ::1
[2025-08-23T02:15:24.724Z] GET /assets/js/imageOptimizer.js - IP: ::1
[2025-08-23T02:15:24.726Z] GET /assets/js/register-sw.js - IP: ::1
[2025-08-23T02:15:24.727Z] GET /assets/images/logo.png - IP: ::1
[2025-08-23T02:15:24.778Z] GET /assets/images/hero-image.jpg - IP: ::1
[2025-08-23T02:15:24.781Z] GET /assets/images/categories/arrangements.jpg - IP: ::1
[2025-08-23T02:15:24.782Z] GET /assets/images/categories/bouquets.jpg - IP: ::1
[2025-08-23T02:15:24.782Z] GET /assets/images/categories/plants.jpg - IP: ::1
[2025-08-23T02:15:24.783Z] GET /assets/images/categories/accessories.jpg - IP: ::1
[2025-08-23T02:15:24.783Z] GET /assets/images/about-florist.jpg - IP: ::1
[2025-08-23T02:15:24.845Z] GET /components/Cart.js - IP: ::1
[2025-08-23T02:15:24.892Z] GET /assets/images/placeholder.svg - IP: ::1
[2025-08-23T02:15:25.369Z] GET /assets/images/favicon.ico - IP: ::1
[2025-08-23T02:15:25.375Z] GET /service-worker.js - IP: ::1
[2025-08-23T02:15:25.398Z] GET /assets/images/favicon-32x32.png - IP: ::1
[2025-08-23T02:15:25.427Z] GET / - IP: ::1
[2025-08-23T02:15:25.430Z] GET /frontend/ - IP: ::1
[2025-08-23T02:15:25.432Z] GET /frontend/index.html - IP: ::1
[2025-08-23T02:15:25.432Z] GET /assets/images/favicon-16x16.png - IP: ::1
[2025-08-23T02:15:25.443Z] GET /frontend/products.html - IP: ::1
[2025-08-23T02:31:09.791Z] GET /api/products?limit=4 - IP: ::1
[2025-08-23T02:40:48.258Z] GET /api/products/442 - IP: ::1
[2025-08-23T02:40:48.852Z] GET /api/products/442 - IP: ::1
[2025-08-23T02:40:49.028Z] GET /api/products/442 - IP: ::1
[2025-08-23T02:40:49.177Z] GET /api/products/442 - IP: ::1
[2025-08-23T02:40:49.344Z] GET /api/products/442 - IP: ::1
[2025-08-23T02:40:49.493Z] GET /api/products/442 - IP: ::1
[2025-08-23T02:40:49.643Z] GET /api/products/442 - IP: ::1
[2025-08-23T02:40:49.797Z] GET /api/products/442 - IP: ::1
[2025-08-23T02:40:59.783Z] GET /api/products - IP: ::1
[2025-08-23T02:41:09.552Z] GET /api/products?limit=4 - IP: ::1
[2025-08-23T02:41:38.043Z] GET /api/products?limit=4 - IP: ::1
[2025-08-23T02:41:54.486Z] GET /api/products?limit=4 - IP: ::1
[2025-08-23T02:41:57.371Z] GET /api/products?limit=4 - IP: ::1
[2025-08-23T02:42:16.422Z] GET /api/products?limit=4 - IP: ::1
[2025-08-23T02:45:41.147Z] GET /api/products?limit=4 - IP: ::1
[2025-08-23T02:49:46.480Z] GET /api/products?limit=4 - IP: ::1
[2025-08-23T02:49:50.512Z] GET /api/products?limit=4 - IP: ::1
[2025-08-23T02:54:03.685Z] GET /api/products?limit=4 - IP: ::1
